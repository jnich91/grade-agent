{
  "name": "grading-agent (dotnet8 + jdk21 + maven3.9)",
  "build": {
    "dockerfile": "Dockerfile",
    "context": "..",
    "args": {
      "DOTNET_VERSION": "8.0",
      "JDK_DISTRO": "temurin",
      "JDK_VERSION": "21",
      "MAVEN_VERSION": "3.9.8"
    }
  },

  // OPTIONAL: talk to host Docker (recommended for running student jobs)
  "mounts": [
    "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"
  ],

  // Run a preflight if you add scripts/doctor.sh later (won’t fail if missing)
  "postCreateCommand": "bash -lc 'if [ -x scripts/doctor.sh ]; then scripts/doctor.sh || true; else echo \"(tip) add scripts/doctor.sh to run repo checks\"; fi'",

  // Works fine in VS Code or devcontainer CLI; non-VS Code users can ignore
  "features": {
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/common-utils:2": {
      "username": "vscode",
      "installZsh": true
    }
  },

  // Container user for nicer shell defaults; not required
  "remoteUser": "vscode",

  // Don’t add editor-specific extensions; keep it neutral
  "customizations": {}
}
